!function(e){e.module("app",["resources","ui.router","chart.js","gpyComponents"])}(angular),function(e){var r=e.module("app");r.config(["$resourcesProvider","$stateProvider","$urlRouterProvider",function(e,r,s){e.init({resources:{Users:{route:"/api/v1/users/:userId?:query"},ServerError:{route:"/api/v1/server-error/:errorId"},Logout:{route:"/auth/v1/webmaster/logout"}}}),s.otherwise("/"),r.state("systemLogs",{url:"/system-logs",template:'<div class="cover" ui-view></div>'}).state("systemLogs.general",{url:"/general",templateUrl:"/front/modules/webmaster/dev/system-logs/general.html",controller:"systemLogsGeneralController"}).state("systemLogs.serverErrors",{url:"/server-errors",templateUrl:"/front/modules/webmaster/dev/system-logs/server-errors.html"}).state("systemLogs.clientErrors",{url:"/client-errors",templateUrl:"/front/modules/webmaster/dev/system-logs/client-errors.html"}).state("systemLogs.serverErrorDetails",{url:"/server-error-details/:errorId",templateUrl:"/front/modules/webmaster/dev/system-logs/server-error-details.html",controller:"systemLogsServerErrorDetailsController"}).state("users",{url:"/users",template:'<div class="cover" ui-view></div>'}).state("users.registered",{url:"/registered",templateUrl:"/front/modules/webmaster/dev/users/registered.html",controller:"usersRegisteredController"})}])}(angular),function(e){var r=e.module("app");r.controller("appController",["$scope","$http","$state","$resources","$window","gpyComponents",function(e,r,s,o,t,l){e.methods=e.methods||{},e.models=e.models||{},e.methods.responseError=function(e){500==e.status&&(l.popup.show({message:"Server error, please provide this code to the administrator: "+e.data.errorId,type:"error"}),console.warn("Error in server",e))},e.methods.setModules=function(){e.models.modules=[{name:"System logs",submodules:[{name:"Server error details",state:"systemLogs.serverErrorDetails"}]},{name:"Users",submodules:[{name:"Registered users",state:"users.registered"}]}]},e.methods.goToSubModule=function(e){s.go(e)},e.methods.logout=function(){o.Logout["delete"]().then(function(e){t.location.reload()})},e.methods.setModules()}])}(angular),function(e){var r=e.module("app");r.directive("appContainer",function(){return{restrict:"EA",templateUrl:"/front/modules/webmaster/dev/app/app.html",controller:"appController"}})}(angular),function(e){var r=e.module("app");r.controller("systemLogsGeneralController",["$scope","$http","$state",function(e,r,s){e.methods=e.methods||{},e.models=e.models||{},e.methods.getTimeIntervalLabels=function(e){var r=[];switch(e){case"month":for(var s=0;31>s;s++)r.push(s+1);break;case"week":r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];break;case"day":for(var s=0;24>s;s++)r.push(s)}return r},e.methods.setResponseTimeGraph=function(r,s){e.models.responseTime={},e.models.responseTime.labels=["Last","Current"],e.models.responseTime.markers=e.methods.getTimeIntervalLabels(r),e.models.responseTime.data=s},e.methods.setResponseTimeGraph("week",[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]])}])}(angular),function(e){var r=e.module("app");r.controller("systemLogsServerErrorDetailsController",["$scope","$http","$state","$resources","$stateParams",function(e,r,s,o,t){e.methods=e.methods||{},e.models=e.models||{},e.methods.findCode=function(){s.go("systemLogs.serverErrorDetails",{errorId:e.models.code})},e.methods.loadServerError=function(r){r&&o.ServerError.get({urlParams:{errorId:r}}).then(function(r){e.models.currentServerError=r.data,console.log(r)})["catch"](function(r){e.methods.responseError(r)})},e.methods.loadServerError(t.errorId)}])}(angular),function(e){var r=e.module("app");r.controller("usersRegisteredController",["$scope","$http","$state","$resources","gpyComponents",function(e,r,s,o,t){e.methods=e.methods||{},e.models=e.models||{},e.methods.loadUsers=function(){t.loading.start(),e.models.currentPage=0,e.models.noMoreResults=!1,o.Users.get().then(function(r){t.loading.stop(),console.log("Users loaded",r),e.models.users=r.data})["catch"](function(r){t.loading.stop(),e.methods.responseError(r)})},e.methods.loadMore=function(){t.loading.start(),e.models.currentPage++,o.Users.get({urlParams:{query:"page="+e.models.currentPage}}).then(function(r){r.data.length||(e.models.noMoreResults=!0),console.log("Users loaded",r),e.models.users=e.models.users.concat(r.data),t.loading.stop()})["catch"](function(r){t.loading.stop(),e.methods.responseError(r)})},e.methods.loadUsers()}])}(angular);