!function(e){e.module("app",["resources","ui.router","chart.js","gpyComponents"])}(angular),function(e){var o=e.module("app");o.config(["$resourcesProvider","$stateProvider","$urlRouterProvider",function(e,o,r){e.init({resources:{Users:{route:"/api/v1/users/:userId?:query"},Logout:{route:"/auth/v1/logout"}}}),r.otherwise("/"),o.state("users",{url:"/users",template:'<div class="cover" ui-view></div>'}).state("users.registered",{url:"/registered",templateUrl:"/front/modules/app-admin/dev/users/registered.html",controller:"usersRegisteredController"})}])}(angular),function(e){var o=e.module("app");o.controller("appController",["$scope","$http","$state","$resources","$window","gpyComponents",function(e,o,r,s,t,n){e.methods=e.methods||{},e.models=e.models||{},e.methods.responseError=function(e){500==e.status&&(n.popup.show({message:"Server error, please provide this code to the administrator: "+e.data.errorId,type:"error"}),console.warn("Error in server",e))},e.methods.setModules=function(){e.models.modules=[{name:"Users",submodules:[{name:"Registered users",state:"users.registered"}]}]},e.methods.goToSubModule=function(e){r.go(e)},e.methods.logout=function(){s.Logout["delete"]().then(function(e){t.location.reload()})},e.methods.setModules()}])}(angular),function(e){var o=e.module("app");o.directive("appContainer",function(){return{restrict:"EA",templateUrl:"/front/modules/app-admin/dev/app/app.html",controller:"appController"}})}(angular),function(e){var o=e.module("app");o.controller("usersRegisteredController",["$scope","$http","$state","$resources","gpyComponents",function(e,o,r,s,t){e.methods=e.methods||{},e.models=e.models||{},e.methods.loadUsers=function(){t.loading.start(),e.models.currentPage=0,e.models.noMoreResults=!1,s.Users.get().then(function(o){t.loading.stop(),console.log("Users loaded",o),e.models.users=o.data})["catch"](function(o){t.loading.stop(),e.methods.responseError(o)})},e.methods.loadMore=function(){t.loading.start(),e.models.currentPage++,s.Users.get({urlParams:{query:"page="+e.models.currentPage}}).then(function(o){o.data.length||(e.models.noMoreResults=!0),console.log("Users loaded",o),e.models.users=e.models.users.concat(o.data),t.loading.stop()})["catch"](function(o){t.loading.stop(),e.methods.responseError(o)})},e.methods.loadUsers()}])}(angular);